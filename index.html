<!DOCTYPE html>
<html ng-app="ylikoolApp">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <meta name="Description" content="ööülikool" />
        <meta name="Author" content="ööülikool">

        <meta property="og:url" content="http://ylikool.herokuapp.com/"/>
        <meta property="og:title" content="ööülikool"/>
        <meta property="og:description" content="ööülikool"/>
        <meta property="og:type" content="website"/>
        <meta property="og:image" content="http://ylikool.herokuapp.com/images/switch1.png"/>

        <meta property="fb:app_id" content="1427250314186447" />
        <meta property="fb:admins" content="531896667"/>

        <title>ööülikool</title>

        <link href='//fonts.googleapis.com/css?family=Open+Sans:300,600|Open+Sans+Condensed:300' rel='stylesheet'>

        <link rel="stylesheet" href="frameworks/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="frameworks/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="stylesheets/style.css">

        <script type="text/javascript" src="javascripts/angular.min.js"></script>
        <script type="text/javascript" src="javascripts/angular-route.min.js"></script>
        <script type="text/javascript" src="javascripts/script.min.js"></script>
    </head>
    <body ng-controller="mainCtrl" ng-class="{ 'night' : nightMode }">

        <div class="progress" ng-if="lectures_loaded != lectures_count">
            <div class="progress-bar" role="progressbar" ng-style="{width: (lectures_loaded * 100 / lectures_count)+'%'}"></div>
        </div>

        <player ng-if="current_lecture">
            <a href="#{{ current_lecture.id }}">{{ current_lecture.title }}</a>
            <audio controls autoplay ng-src="{{ current_lecture.link }}"></audio>
        </player>

        <content ng-style="{'margin-top': !current_lecture && '40px'}">
            <header>
                <img id="night-tip" class="hidden-xs" ng-src="images/tip{{ nightTipNr }}.png" ng-show="!hideNightTip" />

                <h1><i id="night-switch" class="fa" ng-click="nightToggle()" ng-class="{'fa-sun-o' : nightMode, 'fa-moon-o': !nightMode}"></i> <a id="logo" href="#">ööülikool</a></h1>

                <form>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-search"></i></span>
                        <input type="text" class="form-control" placeholder="Otsi..." ng-model="search">
                    </div>
                </form>

                <ul class="nav nav-tabs nav-justified">
                    <li ng-class="{ 'active' : p.url == url }" ng-repeat="p in pages"><a href="#{{ p.url }}">{{ p.title }}</a></li>
                    <li ng-class="{ 'active' : current_lecture.id == url }" ng-show="current_lecture"><a href="#{{ current_lecture.id }}"><i class="fa fa-play pull-center"></i></a></li>
                </ul>

            </header>
            <view ng-view></view>
        </content>
        <a id="fork-me" class="hidden-xs" href="https://github.com/martinsookael/ylikool" target="_blank"><img src="images/forkMeLeft.png" /></a>

        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-48737331-1', 'ylikool.herokuapp.com');
            ga('send', 'pageview');
        </script>

        <div id="fb-root"></div>
        <script>
            (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/en_US/all.js#xfbml=1&appId=1427250314186447";
            fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));
        </script>

        <!-- begin olark code -->
        <script data-cfasync="false" type='text/javascript'>
            /*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
            f[z]=function(){
            (a.s=a.s||[]).push(arguments)};var a=f[z]._={
            },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
            f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
            0:+new Date};a.P=function(u){
            a.p[u]=new Date-a.p[0]};function s(){
            a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
            hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
            return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
            b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
            b.contentWindow[g].open()}catch(w){
            c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
            var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
            b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
            loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
            /* custom configuration goes here (www.olark.com/documentation) */
            olark.identify('1887-891-10-4475');/*]]>*/
        </script>
        <noscript>
            <a href="https://www.olark.com/site/1887-891-10-4475/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a>
        </noscript>
        <!-- end olark code -->
    </body>
</html>
